1、简述HMI/CNC/PLC之间关系（10分）。
2、1）只配置两个轴（U/V），轴丝杆导程分别为5mm，6mm，编写以（10，20）为起点，（-20，-10）为对角点的长方形程序	（注：轴需动起来，20分）；
   2）PLC以2秒为刷新周期，自定义一个3个M码M100,M200,M300要求功能为每一个拐点控制一个灯亮，程序结束前关闭	所有灯？（20分）

3、1）派生类怎么调用基类的虚函数，请用简易代码表示？ （10分）；
2）Dll加载的方式有几种，分别是什么，调用时分别需要提供那些文件（10分）



### 答：

	#### 1.

对于我们公司的产品来说HMI、CNC、PLC实际上都是运行于计算机上的软件，但是各自负责的功能有所不同，**HMI**提供人机交互接口，用户可以通过HMI与CNC进行交互、控制、生成NC程序，也与对PLC交互，但更多的是与CNC程序。**CNC主要是处理**HMI下发的各个NC程序或者指令，通过信号控制PLC驱动外部设备，完成一系列的插补动作。
    **PLC**主要控制IO点、输出动作、以及一些急停之类的按键。

#### 2

​	**1**:

```cpp
%
p00001
G01 X10 Y20;
G01 X-20;
G01 Y-10;
G01 X10;
G01 Y20;
M30;

```



#### 3

**3.1**：

​	派生类调用基类的虚函数有一下几种情况：

1. 在派生类未重写虚函数的情况下，可以直接调用基类虚函数。
2. 在派生类重写了基类的虚函数的情况下，通过作用域限制调用基类虚函数

```cpp
//第一种情况
Class Base{
public:
	virtual ~Base() {};
	virtual funcA();
	funcB();
	funcC();
}
Class Child: public Base{ 
public:
	funcB();
}

//第二种情况
Class Base{
public:
	virtual ~Base() {};
	virtual funcA();
	funcB();
	funcC();
}
Class Child: public Base{ 
public:
    virtual funcA();
	funcB();
}
//方法实现.cpp
Child::funcA(){
	Base::funcA(); //通过作用域指定调用基类方法
}
```

​	

**3.2**

​	DLL动态链接库，程序在链接阶段可以将动态库中的函数加载到可执行文件来运行。

主要有两种链接方式：

1. 显示链接：
   1. 需要提供.h、.dll、.lib三个文件，如果头文件中包含的有其他头文件的话，也需要带上 

2. 隐式链接:
   1. 仅仅需要dll文件